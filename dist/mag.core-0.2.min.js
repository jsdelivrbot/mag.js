//////////////////////////////////
//MagJS
//////////////////////////////////
/**!
 * @name mag.js - Copyright (c) 2013, 2014 Michael Glazer
 * @description MagnumJS core code library
 * @author Michael Glazer
 * @date 4/25/2014
 * @version Alpha - 0.2.32
 * @license MIT https://github.com/magnumjs/mag.js/blob/master/LICENSE
 * @link https://github.com/magnumjs/mag.js
 */
!function(s){var i="warn";window.log=function(){var s=[].shift.apply(arguments),t=Array.prototype.slice.call(arguments);s==i&&console&&console[i](t.join(","))},s.reserved=["__requires","__instance"],s.module=function(i,t){function e(s){var i;if("function"!=typeof s){i=s;var t=i.pop(),e=""+t,r=e.substring(e.indexOf("{")+1,e.lastIndexOf("}"));s=Function(i.join(),r)}return[s,i]}log("info","module name:"+i),this.modules=this.modules||{};var r=this.modules[i];if(r&&(!t||t&&0!=t.length))return r;if(s.inject.namespace=i,s.inject.dependencies[i]={},t){var n=function(i){for(var t=[],e=0,r=i.length;r>e;e++){var n=i[e];if(this.modules[n]){var o=this.modules[n];t.push(o);for(var c in o.services)s.inject.register(c,o.services[c],1);for(var h in o.factories)s.inject.register(h,o.factories[h]())}}}.bind(this);n(t)}return this.modules[i]=new function(){this.name=i,this.directive=function(){},this.config=function(i){s.inject.process(i)},this.service=function(i,t){this.services=this.services||{},this.services[i]=this.services[i]||t,s.inject.register(i,t,1)},this.factory=function(i,t){this.factories=this.factories||{},this.factories[i]=this.factories[i]||t,s.inject.register(i,this.factories[i]())},this.control=function(i,t){this.controls=this.controls||{},s.inject.register("Scope",this.getScope(i));var r=e(t);this.fire("mag.control.process.begin",[i]),s.inject.process(r[0],r[1],0,this,i),this.fire("mag.control.process.end",[i])},this.getScope=function(s){return this.controls=this.controls||{},this.controls[s]=this.controls[s]||{}},this.observers={},this.on=function(s,i){s=s.split(/\s+/);for(var t;t=s.shift();)this.observers[t]||(this.observers[t]=[]),this.observers[t].push(i)},this.fire=function(s,i){if(this.observers[s])for(var t=0;t<this.observers[s].length;t++)this.observers[s][t].apply(this,i)},s.injection(this)}}}(window.mag={});
